import{_ as v,c as x,b as d,a as s,w as l,r,o as u,k as _,e as c,d as b}from"./index-tWRnQmOK.js";const h={name:"login_general",data(){return{user:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},showPassword:!1,loginType:1}},methods:{login_general(){this.$refs.userForm.validate(a=>{if(a)this.loginType===1?this.$api.login_general(this.user).then(e=>{this.$store.commit("saveUserInfo",e),this.$router.push("/welcome")}):this.loginType===2&&alert("LDAP登录 暂未实现");else return!1})}}},P={class:"login-wrapper"},T={class:"modal"};function C(a,e,K,U,o,i){const m=r("el-input"),t=r("el-form-item"),f=r("View"),g=r("Hide"),w=r("el-icon"),p=r("el-radio"),y=r("el-radio-group"),V=r("el-button"),k=r("el-form");return u(),x("div",P,[d("div",T,[s(k,{ref:"userForm",model:o.user,"status-icon":"",rules:o.rules},{default:l(()=>[e[5]||(e[5]=d("div",{class:"title"},"DEVOPS管理系统",-1)),s(t,{prop:"username",class:"form-item"},{default:l(()=>[s(m,{type:"text","prefix-icon":"UserFilled",modelValue:o.user.username,"onUpdate:modelValue":e[0]||(e[0]=n=>o.user.username=n),onKeyup:_(i.login_general,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),s(t,{prop:"password",class:"form-item"},{default:l(()=>[s(m,{type:o.showPassword?"text":"password",modelValue:o.user.password,"onUpdate:modelValue":e[2]||(e[2]=n=>o.user.password=n),onKeyup:_(i.login_general,["enter"])},{prefix:l(()=>[s(w,{onClick:e[1]||(e[1]=n=>o.showPassword=!o.showPassword),class:"password-icon"},{default:l(()=>[o.showPassword?(u(),c(f,{key:0})):(u(),c(g,{key:1}))]),_:1})]),_:1},8,["type","modelValue","onKeyup"])]),_:1}),s(t,null,{default:l(()=>[s(y,{modelValue:o.loginType,"onUpdate:modelValue":e[3]||(e[3]=n=>o.loginType=n),size:"medium"},{default:l(()=>[s(p,{label:"普通登录",value:1}),s(p,{label:"LDAP登录",value:2})]),_:1},8,["modelValue"])]),_:1}),s(t,{class:"form-item"},{default:l(()=>[s(V,{type:"primary",class:"btn-login",onClick:i.login_general},{default:l(()=>e[4]||(e[4]=[b("登录")])),_:1,__:[4]},8,["onClick"])]),_:1})]),_:1,__:[5]},8,["model","rules"])])])}const D=v(h,[["render",C]]);export{D as default};
